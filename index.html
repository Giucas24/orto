<!DOCTYPE html>
<html lang="it">

<head>
    <meta charset="UTF-8" />
    <title>ğŸ¥• Orto Conquista - La Battaglia Vegetale</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="game-header">
        <h1>ğŸ¥• ORTO CONQUISTA ğŸ¥•</h1>
        <p>La battaglia vegetale piÃ¹ epica del giardino!</p>
    </div>

    <div class="game-container">
        <div class="map-container">
            <div class="title">ğŸ—ºï¸ ISOLA DELL'ORTO GLOBALE ğŸ—ºï¸</div>
            <canvas id="mapCanvas" width="1000" height="700"></canvas>
        </div>

        <div class="controls-panel">
            <div class="current-player" id="current-player">
                <h3>ğŸ¯ Turno di: <span id="player-name">Cavolfiori</span></h3>
                <div style="display: flex; align-items: center; justify-content: center; gap: 10px;">
                    <div id="player-color"
                        style="width: 25px; height: 25px; border-radius: 50%; border: 3px solid #333;"></div>
                    <span id="player-emoji" style="font-size: 24px;">â„ï¸</span>
                </div>
                <div>Turno: <span id="turn-counter">1</span></div>
            </div>

            <div class="phase-indicator" id="phase-indicator">
                <strong>ğŸ® Fase: <span id="current-phase">Rinforzi</span></strong>
                <div id="phase-timer" style="margin-top: 5px; font-size: 12px;">â° Tempo illimitato</div>
            </div>

            <div class="faction-info" id="faction-info">
                <h4 id="faction-name">â„ï¸ Clan dei Cavolfiori</h4>
                <p><strong>ğŸ‘‘ Leader:</strong> <span id="leader-name">Generale Cavolo Brassius</span></p>
                <p><strong>ğŸ”® AbilitÃ :</strong> <span id="ability-name">Resistenza Glaciale</span></p>
                <p><small id="ability-desc">Una volta per turno puÃ² rigenerare 1 unitÃ </small></p>
                <p><strong>ğŸ’ª Bonus:</strong> <span id="faction-bonus">+1 difesa in montagna</span></p>
                <p><strong>âš ï¸ Debolezza:</strong> <span id="faction-weakness">-1 vs Carote</span></p>

                <div class="stat-item">
                    <span>ğŸ° Territori:</span>
                    <span id="territory-count">3</span>
                </div>
                <div class="stat-item">
                    <span>ğŸ–ï¸ Rinforzi:</span>
                    <span id="reinforcements">4</span>
                </div>

                <button class="button special" id="leader-ability" onclick="useLeaderAbility()">
                    ğŸŒŸ Usa AbilitÃ  Leader
                </button>
            </div>

            <div class="controls">
                <button class="button" id="place-reinforcements" onclick="placeReinforcements()">
                    âš¡ Piazza Rinforzi Auto
                </button>
                <button class="button attack" id="attack-btn" onclick="toggleAttackMode()" disabled>
                    âš”ï¸ ModalitÃ  Attacco
                </button>
                <button class="button" id="end-turn" onclick="endTurn()" disabled>
                    ğŸ”„ Fine Turno
                </button>
            </div>

            <div class="cards-section" id="cards-section">
                <h4>ğŸ´ Carte Evento</h4>
                <div id="card-deck-container">
                    <div class="card-deck" id="card-deck" onclick="drawEventCard()">
                        <div class="card-back">
                            <div class="card-pattern">ğŸŒ±</div>
                            <div class="card-title">MAZZO</div>
                            <div class="card-pattern">ğŸƒ</div>
                        </div>
                        <div class="cards-remaining" id="cards-remaining">12</div>
                    </div>
                </div>
                <div id="player-cards" class="player-cards">
                    <!-- Le carte in mano del giocatore appariranno qui -->
                </div>
            </div>

            <div class="battle-log">
                <h4>ğŸ“œ Log delle Battaglie</h4>
                <div id="log-content">
                    <div class="log-entry log-move">ğŸ® Orto Conquista iniziato! I Cavolfiori preparano la loro strategia
                        glaciale...</div>
                </div>
            </div>

            <div class="stats-panel">
                <h4>ğŸ“Š Statistiche</h4>
                <div class="stat-item">
                    <span>ğŸŒ Territori Totali:</span>
                    <span>16</span>
                </div>
                <div class="stat-item">
                    <span>âš”ï¸ Battaglie:</span>
                    <span id="battle-count">0</span>
                </div>
                <div class="stat-item">
                    <span>ğŸ¯ Obiettivo:</span>
                    <span>Conquista Totale</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Overlay per le fasi -->
    <div class="phase-overlay" id="phase-overlay">
        <div class="phase-content">
            <div class="phase-icon" id="phase-icon">âš¡</div>
            <div class="phase-text" id="phase-text">Fase Rinforzi</div>
        </div>
    </div>

    <!-- Overlay carta pescata -->
    <div class="card-drawn-overlay" id="card-drawn-overlay">
        <div class="card-drawn-content">
            <div class="drawn-card" id="drawn-card">
                <div class="card-header">
                    <span class="card-name" id="drawn-card-name">Nome Carta</span>
                    <button class="close-card" onclick="closeDrawnCard()">Ã—</button>
                </div>
                <div class="card-description" id="drawn-card-description">Descrizione della carta</div>
                <div class="card-effect" id="drawn-card-effect">Effetto speciale</div>
                <button class="button use-card" id="use-drawn-card" onclick="useDrawnCard()">ğŸ¯ Usa Carta</button>
            </div>
        </div>
    </div>

    <div class="victory-screen" id="victory-screen">
        <div class="victory-content">
            <h2 id="victory-title">ğŸ† VITTORIA! ğŸ†</h2>
            <p id="victory-message">I Cavolfiori hanno conquistato l'orto!</p>
            <button class="button" onclick="resetGame()">ğŸ”„ Nuova Partita</button>
        </div>
    </div>

    <script src="script.js"></script>
</body>

</html>